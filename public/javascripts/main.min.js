function Location(e,t){this.type="Point",this.coordinates=[e,t]}function Event(e,t,n,a,o){this.name=e,this.description=t,this.location=n,this.members=[],this.languages=[],this.from=a,this.to=o}Event.prototype.save=function(){var e=document.location.origin,t=JSON.stringify(this);$.ajax({method:"POST",url:e+"/api/events/new",data:{event:t},success:function(e){console.log(e)}})},Event.prototype.clear=function(){$(this).closest("form")},$(document).ready(function(){$("#createEvent").on("click",function(){var e=$("#createEvent__name").val(),t=($("#createEvent__location").val(),$("#createEvent__from").val()),n=$("#createEvent__to").val(),a=$("#createEvent__languages > .chip"),i=$("#createEvent__description").val(),c=new Location(o.getPlace().geometry.location.lat(),o.getPlace().geometry.location.lng()),s=new Event(e,i,c,t,n);a.each(function(e){s.languages.push(a[e].firstChild.data)}),s.save(),$(this).closest("form").find("input[type=text], textarea").val(""),$(this).closest("form").find("#createEvent__languages > .chip").remove(),$(this).closest("form").find("label.active").removeClass("active")}),$(".datepicker").pickadate({format:"yyyy-mm-dd",selectMonths:!0,selectYears:15}),$(".chips-autocomplete").material_chip({secondaryPlaceholder:"Languages",autocompleteOptions:{data:{Html:null,Css:null,Javascript:null,Python:null,Typescript:null,"Go!":null,PhP:null,Ruby:null},limit:1/0,minLength:1}});var e={lat:40.415363,lng:-3.703612},t=[],n=new google.maps.Map(document.getElementById("map"),{zoom:5,center:e}),a=$("#createEvent__location")[0],o=new google.maps.places.Autocomplete(a);o.addListener("place_changed",function(){e.lat=o.getPlace().geometry.location.lat(),e.lng=o.getPlace().geometry.location.lng(),n.setZoom(13),n.setCenter(e),t.pop();var a=new google.maps.Marker({position:e,map:n});t.push(a)})}),$(document).ready(function(){function e(){var e=document.location.origin,t=$(this)[0].parentElement.id;$.ajax({method:"GET",url:e+"/api/events/"+t+"/join",success:function(e){console.log(e)}})}function t(e){var t="";e.languages.forEach(function(e){t+='<div class="chip">'+e+"</div>"}),$(".collection").append('<li id="'+e._id+'" class="collection-item event-card"><h4 class="event-card__name">'+e.name+'</h4><div class="event-card__languages">'+t+'</div><div class="event-card__date"><span>'+e.from.substring(0,e.from.indexOf("T"))+"</span><span>"+e.to.substring(0,e.to.indexOf("T"))+'</span></div><div class="event-card__buttons"><a href="/events/'+e._id+'" class="waves-effect waves-light btn">View More</a><a class="waves-effect waves-light btn join_event">Join</a></div></li>')}!function(){var n=document.location.origin;$.ajax({method:"GET",url:n+"/api/events",success:function(n){n.forEach(function(e){t(e)}),$(".join_event").on("click",e),console.log(n)}})}()}),$(document).ready(function(){});
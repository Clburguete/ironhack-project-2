function Location(e,t){this.type="Point",this.coordinates=[e,t]}function Event(e,t,o,n,a){this.name=e,this.description=t,this.location=o,this.members=[],this.languages=[],this.from=n,this.to=a}Event.prototype.save=function(){var e=document.location.origin,t=JSON.stringify(this);$.ajax({method:"POST",url:e+"/api/events/new",data:{event:t},success:function(e){console.log(e)}})},Event.prototype.clear=function(){$(this).closest("form")},$(document).ready(function(){$("#createEvent").on("click",function(){var e=$("#createEvent__name").val(),t=($("#createEvent__location").val(),$("#createEvent__from").val()),o=$("#createEvent__to").val(),n=$("#createEvent__languages > .chip"),c=$("#createEvent__description").val(),i=new Location(a.getPlace().geometry.location.lat(),a.getPlace().geometry.location.lng()),l=new Event(e,c,i,t,o);l.members.push("5911925ea50bcf7ff3963066"),n.each(function(e){l.languages.push(n[e].firstChild.data)}),l.save(),$(this).closest("form").find("input[type=text], textarea").val(""),$(this).closest("form").find("#createEvent__languages > .chip").remove(),$(this).closest("form").find("label.active").removeClass("active")}),$(".datepicker").pickadate({format:"yyyy-mm-dd",selectMonths:!0,selectYears:15}),$(".chips-autocomplete").material_chip({secondaryPlaceholder:"Languages",autocompleteOptions:{data:{Html:null,Css:null,Javascript:null},limit:1/0,minLength:1}});var e={lat:40.415363,lng:-3.703612},t=[],o=new google.maps.Map(document.getElementById("map"),{zoom:5,center:e}),n=$("#createEvent__location")[0],a=new google.maps.places.Autocomplete(n);a.addListener("place_changed",function(){e.lat=a.getPlace().geometry.location.lat(),e.lng=a.getPlace().geometry.location.lng(),o.setZoom(13),o.setCenter(e),t.pop();var n=new google.maps.Marker({position:e,map:o});t.push(n)}),function(){var e=document.location.origin;$.ajax({method:"GET",url:e+"/api/events",success:function(e){e.forEach(function(e){$(".collection").append('<li id="'+e._id+'" class="collection-item"><p>'+e.name+"</p><p>"+e.from+"</p><p>"+e.to+"</p><p>"+e._id+"</p><p>Join</p><p>More Info</p></li>")}),console.log(e)}})}()}),$(document).ready(function(){});